{% extends "my_base.html" %}
{% import "bootstrap/wtf.html" as wtf %}

{% block page_content %}
{{super()}}

<form method="post" class="form" role="form">
    
    {{ form.csrf_token }}

    <div class="form-group{% if form.title.errors %} has-error{% endif %}">
        {{ form.title.label(class="control-label") }}
        <p><span class="help-block">This will serve as the title of your thread. A [Community Rating] tag will be automatically prepended to the title.</span></p>
        {{ form.title(class="form-control", placeholder="Let's rate that new video game") }}
        {% if form.title.errors %}
            <ul class="errors">{% for error in form.title.errors %}<li class="text-danger">{{ error }}</li>{% endfor %}</ul>
        {% endif %}
    </div>

    <div class="divider"></div>

    <div class="form-group{% if form.subreddit.errors %} has-error{% endif %}">
        {{ form.subreddit.label(class="control-label") }}
        <span class="help-block">Choose an appropriate subreddit and do not prepend it with "/r/".</span>
        <div class="input-group">
            <span class="input-group-addon">/r/</span>
            {{ form.subreddit(class="form-control", placeholder="Gaming") }}
        </div>
        {% if form.subreddit.errors %}
            <ul class="errors">{% for error in form.subreddit.errors %}<li class="text-danger">{{ error }}</li>{% endfor %}</ul>
        {% endif %}
    </div>

    <div class="divider"></div>

    <div class="form-group{% if form.description.errors %} has-error{% endif %}">
        {{ form.description.label(class="control-label") }}
        <span class="help-block">Provide an optional description that will appear at the top of your thread. Feel free to use reddit markdown.</span>
        {{ form.description(class="form-control", placeholder="That new video game came out a few days ago and I'm wondering what everyone thinks about it.", maxlength="600") }}
        {% if form.description.errors %}
            <ul class="errors">{% for error in form.description.errors %}<li class="text-danger">{{ error }}</li>{% endfor %}</ul>
        {% endif %}
    </div>

    <div class="divider"></div>

    <div class="form-group{% if form.category.errors %} has-error{% endif %}">
        {{ form.category.label(class="control-label") }}
        <span class="help-block">This will categorize your rating thread here at RedditRatings.com.</span>
        {{ form.category(class="form-control") }}
        {% if form.category.errors %}
            <ul class="errors">{% for error in form.category.errors %}<li class="text-danger">{{ error }}</li>{% endfor %}</ul>
        {% endif %} 
    </div>

    <div class="divider"></div>

    <div class="well">

        <p><strong>Notice:</strong></p>

        <p>When you hit submit, a reddit thread will be created under your username. It will include default instructions for users that wish to contribute a rating. <a href="#">Click here to see a sample Community Rating thread on reddit</a>.</p>
    
    </div>

    <div class="checkbox">
        <label>
            {{ form.test_mode }} Post to reddit?
        </label>
    </div>

    <input class="btn btn-default" id="submit" name="submit" type="submit" value="Submit">

</form>

{% endblock %}
